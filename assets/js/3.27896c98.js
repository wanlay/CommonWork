(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{144:function(a,s,t){"use strict";t.r(s);var e=t(0),r=Object(e.a)({},(function(){var a=this.$createElement;this._self._c;return this._m(0)}),[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile","aria-hidden":"true"}},[a._v("#")]),a._v(" Dockerfile")]),t("h2",{attrs:{id:"dockerfile更换源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile更换源","aria-hidden":"true"}},[a._v("#")]),a._v(" DockerFile更换源")]),t("h3",{attrs:{id:"若为debian"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#若为debian","aria-hidden":"true"}},[a._v("#")]),a._v(" 若为Debian")]),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("RUN")]),a._v("   echo "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"deb http://mirrors.aliyun.com/debian/ jessie main non-free contrib"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v(" /etc/apt/sources.list\n\n")])])]),t("h3",{attrs:{id:"若为alpine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#若为alpine","aria-hidden":"true"}},[a._v("#")]),a._v(" 若为alpine")]),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("RUN")]),a._v(" sed "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("i "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g'")]),a._v(" /etc/apk/repositories\n")])])]),t("blockquote",[t("p",[a._v("制作镜像From alpine时，默认用的是sh，没有bash")])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("apk "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" --no-cache "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装bash")]),a._v("\n")])])]),t("p",[a._v("结合上面替换源")]),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("RUN")]),a._v(" sed "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("i "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g'")]),a._v(" /etc/apk/repositories && \\\n    apk update && apk add "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("no"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("cache bash\n")])])]),t("h2",{attrs:{id:"设置时区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置时区","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置时区")]),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("RUN")]),a._v(" echo "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Asia/shanghai"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v(" /etc/timezone;\n")])])]),t("h2",{attrs:{id:"限制jvm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#限制jvm","aria-hidden":"true"}},[a._v("#")]),a._v(" 限制jvm")]),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ENV")]),a._v(' JAVA_OPTS="'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("Xmx512m\n")])])])])}],!1,null,null,null);s.default=r.exports}}]);