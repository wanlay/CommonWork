(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{179:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){var a=this.$createElement;this._self._c;return this._m(0)}),[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"openstack问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#openstack问题","aria-hidden":"true"}},[a._v("#")]),a._v(" openstack问题")]),s("h2",{attrs:{id:"问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题","aria-hidden":"true"}},[a._v("#")]),a._v(" 问题")]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#问题")]),a._v("\navoid ENOSPC:\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#解决")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" fs.inotify.max_user_watches"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("524288")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tee")]),a._v(" -a /etc/sysctl.conf "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" sysctl -p\nsysctl --system\n")])])]),s("h2",{attrs:{id:"devtsack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#devtsack","aria-hidden":"true"}},[a._v("#")]),a._v(" devtsack")]),s("p",[a._v("local.conf")]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("localrc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Define images to be automatically downloaded during the DevStack built process.")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DOWNLOAD_DEFAULT_IMAGES")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("False\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IMAGE_URLS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://images.trystack.cn/cirros/cirros-0.3.4-x86_64-disk.img"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# use TryStack git mirror")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GIT_BASE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://git.trystack.cn\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NOVNC_REPO")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://git.trystack.cn/kanaka/noVNC.git\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SPICE_REPO")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://git.trystack.cn/git/spice/spice-html5.git\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("USE_SYSTEMD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("True\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HOST_IP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.190")]),a._v(".16.197\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ADMIN_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DATABASE_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RABBIT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SERVICE_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ADMIN_PASSWORD")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HORIZON_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KEYSTONE_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NOVA_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NEUTRON_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GLANCE_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CINDER_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#keystone")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KEYSTONE_TOKEN_FORMAT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("UUID\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##Heat")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HEAT_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\nenable_service h-eng h-api h-api-cfn h-api-cw\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## Swift")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SWIFT_BRANCH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ENABLED_SERVICES")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(",s-proxy,s-object,s-container,s-account\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Enabling Neutron (network) Service")]),a._v("\ndisable_service n-net\nenable_service q-svc\nenable_service q-agt\nenable_service q-dhcp\nenable_service q-l3\nenable_service q-meta\nenable_service q-metering\nenable_service neutron\n\ndisable_service cinder\nenable_service gnocchi-grafana\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##启用tacker，tacker依赖于heat")]),a._v("\nenable_plugin heat http://git.trystack.cn/openstack/heat stable/ocata\nenable_plugin tacker http://git.trystack.cn/openstack/tacker stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##Telemetry的四个组件")]),a._v("\nenable_plugin aodh http://git.trystack.cn/openstack/tacker stable/ocata\nenable_plugin panko http://git.trystack.cn/openstack/tacker stable/ocata\nenable_plugin ceilometer http://git.openstack.org/openstack/ceilometer\nenable_plugin gnocchi http://git.trystack.cn/openstack/tacker stable/ocata\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CEILOMETER_BACKEND")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mongodb\n\n\ndisable_service tacker-horizon\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Work offline")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("OFFLINE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("True\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Reclone each time")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RECLONE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("no\n\n")])])])])}],!1,null,null,null);t.default=n.exports}}]);