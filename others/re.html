<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则 | my-site</title>
    <meta name="description" content="mysite">
    <link rel="icon" href="/document/favicon.ico">
    
    <link rel="preload" href="/document/assets/css/styles.5eb717b1.css" as="style"><link rel="preload" href="/document/assets/js/app.5eb717b1.js" as="script"><link rel="preload" href="/document/assets/js/39.ff39d369.js" as="script"><link rel="prefetch" href="/document/assets/js/1.ddf42c38.js"><link rel="prefetch" href="/document/assets/js/10.aca434fd.js"><link rel="prefetch" href="/document/assets/js/11.51601390.js"><link rel="prefetch" href="/document/assets/js/12.ad28f615.js"><link rel="prefetch" href="/document/assets/js/13.ac59c3d1.js"><link rel="prefetch" href="/document/assets/js/14.9a885008.js"><link rel="prefetch" href="/document/assets/js/15.f3655483.js"><link rel="prefetch" href="/document/assets/js/16.fd334191.js"><link rel="prefetch" href="/document/assets/js/17.7d7907a4.js"><link rel="prefetch" href="/document/assets/js/18.509fb0d1.js"><link rel="prefetch" href="/document/assets/js/19.849def23.js"><link rel="prefetch" href="/document/assets/js/2.68be4103.js"><link rel="prefetch" href="/document/assets/js/20.a45e76c6.js"><link rel="prefetch" href="/document/assets/js/21.6708f267.js"><link rel="prefetch" href="/document/assets/js/22.96d5c709.js"><link rel="prefetch" href="/document/assets/js/23.d43e6b88.js"><link rel="prefetch" href="/document/assets/js/24.6adcba5c.js"><link rel="prefetch" href="/document/assets/js/25.ebd3b924.js"><link rel="prefetch" href="/document/assets/js/26.4040aa58.js"><link rel="prefetch" href="/document/assets/js/27.50d8fb00.js"><link rel="prefetch" href="/document/assets/js/28.35f30a1a.js"><link rel="prefetch" href="/document/assets/js/29.86a6c76b.js"><link rel="prefetch" href="/document/assets/js/3.27896c98.js"><link rel="prefetch" href="/document/assets/js/30.a8f2d9ad.js"><link rel="prefetch" href="/document/assets/js/31.aa2e6fe8.js"><link rel="prefetch" href="/document/assets/js/32.c8127cc3.js"><link rel="prefetch" href="/document/assets/js/33.ab0c0d25.js"><link rel="prefetch" href="/document/assets/js/34.c54d6fbf.js"><link rel="prefetch" href="/document/assets/js/35.b062d65d.js"><link rel="prefetch" href="/document/assets/js/36.59518d28.js"><link rel="prefetch" href="/document/assets/js/37.d20c65a1.js"><link rel="prefetch" href="/document/assets/js/38.fb2890b5.js"><link rel="prefetch" href="/document/assets/js/4.b23a15d0.js"><link rel="prefetch" href="/document/assets/js/40.51730ac4.js"><link rel="prefetch" href="/document/assets/js/41.4d899e1c.js"><link rel="prefetch" href="/document/assets/js/42.12d30c89.js"><link rel="prefetch" href="/document/assets/js/43.0542e2b0.js"><link rel="prefetch" href="/document/assets/js/44.e6ce2834.js"><link rel="prefetch" href="/document/assets/js/45.aa0bfb53.js"><link rel="prefetch" href="/document/assets/js/5.9aeab741.js"><link rel="prefetch" href="/document/assets/js/6.c2ff2458.js"><link rel="prefetch" href="/document/assets/js/7.ac6af82a.js"><link rel="prefetch" href="/document/assets/js/8.d108ed4a.js"><link rel="prefetch" href="/document/assets/js/9.6d42ccf6.js">
    <link rel="stylesheet" href="/document/assets/css/styles.5eb717b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/document/" class="home-link router-link-active"><!----><span class="site-name">
      my-site
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/document/linux/" class="nav-link">linux</a></div><div class="nav-item"><a href="/document/docker/" class="nav-link">docker</a></div><div class="nav-item"><a href="/document/language/" class="nav-link">语言</a></div><div class="nav-item"><a href="/document/windows/" class="nav-link">windows</a></div><div class="nav-item"><a href="/document/others/" class="nav-link router-link-active">其他</a></div><a href="https://github.com/wanlay/document" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/document/linux/" class="nav-link">linux</a></div><div class="nav-item"><a href="/document/docker/" class="nav-link">docker</a></div><div class="nav-item"><a href="/document/language/" class="nav-link">语言</a></div><div class="nav-item"><a href="/document/windows/" class="nav-link">windows</a></div><div class="nav-item"><a href="/document/others/" class="nav-link router-link-active">其他</a></div><a href="https://github.com/wanlay/document" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span></span><!----></p><ul class="sidebar-group-items"><li><a href="/document/others/js-usage.html" class="sidebar-link">js常用</a></li><li><a href="/document/others/maven-config.html" class="sidebar-link">maven</a></li><li><a href="/document/others/mysql-config.html" class="sidebar-link">mysql</a></li><li><a href="/document/others/nginx.html" class="sidebar-link">nginx</a></li><li><a href="/document/others/openstack-install.html" class="sidebar-link">openstack问题</a></li><li><a href="/document/others/re.html" class="active sidebar-link">正则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/others/re.html#匹配单个字符" class="sidebar-link">匹配单个字符</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#匹配一组字符" class="sidebar-link">匹配一组字符</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#使用元字符" class="sidebar-link">使用元字符</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#匹配空白字符" class="sidebar-link">匹配空白字符</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#匹配特定的字符类别" class="sidebar-link">匹配特定的字符类别</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#使用-posix-字符类" class="sidebar-link">使用 POSIX 字符类</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#重复匹配" class="sidebar-link">重复匹配</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#位置匹配" class="sidebar-link">位置匹配</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/others/re.html#单词边界" class="sidebar-link">单词边界</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#字符串边界" class="sidebar-link">字符串边界</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/others/re.html#使用子表达式" class="sidebar-link">使用子表达式</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#回溯引用" class="sidebar-link">回溯引用</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#替换" class="sidebar-link">替换</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#大小写转换" class="sidebar-link">大小写转换</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#前后查找" class="sidebar-link">前后查找</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#嵌入条件" class="sidebar-link">嵌入条件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/others/re.html#回溯引用条件" class="sidebar-link">回溯引用条件</a></li><li class="sidebar-sub-header"><a href="/document/others/re.html#前后查找条件" class="sidebar-link">前后查找条件</a></li></ul></li></ul></li><li><a href="/document/others/source.html" class="sidebar-link">源设置</a></li><li><a href="/document/others/tomcat.html" class="sidebar-link">tomcat</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="正则"><a href="#正则" aria-hidden="true" class="header-anchor">#</a> 正则</h1><p>正则表达式用于文本内容的查找和替换。</p><p>正则表达式内置于其它语言或者软件产品中，它本身不是一种语言或者软件。</p><p>一个问题往往可以用多种正则表达式方案来解决。</p><p><a href="http://tool.chinaz.com/regex" target="_blank" rel="noopener noreferrer">正则表达式在线工具<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="匹配单个字符"><a href="#匹配单个字符" aria-hidden="true" class="header-anchor">#</a> 匹配单个字符</h2><p>正则表达式一般是区分大小写的，但是也有些实现是不区分。</p><p><strong>.</strong>  可以用来匹配任何的单个字符，但是在绝大多数实现里面，不能匹配换行符；</p><p><strong>\</strong>  是元字符，表示它有特殊的含义，而不是字符本身的含义。如果需要匹配 . ，那么要用 \ 进行转义，即在 . 前面加上 \ 。</p><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>nam.
</code></pre></div><p><strong>匹配结果</strong></p><p>My  <strong>name</strong>  is Zheng.</p><h2 id="匹配一组字符"><a href="#匹配一组字符" aria-hidden="true" class="header-anchor">#</a> 匹配一组字符</h2><p><strong>[ ]</strong>  定义一个字符集合；</p><p>0-9、a-z 定义了一个字符区间，区间使用 ASCII 码来确定。字符区间只能用在 [ ] 之间，因此  <strong>-</strong>  元字符只有在 [ ] 之间才是元字符，在 [ ] 之外就是一个普通字符；</p><p><strong>^</strong>  是取非操作，必须在 [ ] 字符集合中使用；</p><p><strong>应用</strong></p><p>匹配以 abc 为开头，并且最后一个字母不为数字的字符串：</p><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>abc[^0-9]
</code></pre></div><p><strong>匹配结果</strong></p><ol><li><strong>abcd</strong></li><li>abc1</li><li>abc2</li></ol><h2 id="使用元字符"><a href="#使用元字符" aria-hidden="true" class="header-anchor">#</a> 使用元字符</h2><h2 id="匹配空白字符"><a href="#匹配空白字符" aria-hidden="true" class="header-anchor">#</a> 匹配空白字符</h2><table><thead><tr><th>元字符</th><th>说明</th></tr></thead><tbody><tr><td>[\b]</td><td>回退（删除）一个字符</td></tr><tr><td>\f</td><td>换页符</td></tr><tr><td>\n</td><td>换行符</td></tr><tr><td>\r</td><td>回车符</td></tr><tr><td>\t</td><td>制表符</td></tr><tr><td>\v</td><td>垂直制表符</td></tr></tbody></table><p>\r\n 是 Windows 中的文本行结束标签，在 Unix/Linux 则是 \n ；\r\n\r\n 可以匹配 Windows 下的空白行，因为它将匹配两个连续的行尾标签，而这正是两条记录之间的空白行；</p><p>. 是元字符，前提是没有对它们进行转义； f 和 n 也是元字符，但是前提是对他们进行了转义。</p><h2 id="匹配特定的字符类别"><a href="#匹配特定的字符类别" aria-hidden="true" class="header-anchor">#</a> 匹配特定的字符类别</h2><p><strong>1. 数字元字符</strong></p><table><thead><tr><th>元字符</th><th>说明</th></tr></thead><tbody><tr><td>\d</td><td>数字字符，等价于 [0-9]</td></tr><tr><td>\D</td><td>非数字字符，等价于 [^0-9]</td></tr></tbody></table><p><strong>2. 字母数字元字符</strong></p><table><thead><tr><th>元字符</th><th>说明</th></tr></thead><tbody><tr><td>\w</td><td>大小写字母，下划线和数字，等价于 [a-zA-Z0-9_]</td></tr><tr><td>\W</td><td>对 \w 取非</td></tr></tbody></table><p><strong>3. 空白字符元字符</strong></p><table><thead><tr><th>元字符</th><th>说明</th></tr></thead><tbody><tr><td>\s</td><td>任何一个空白字符，等价于 [\f\n\r\t\v]</td></tr><tr><td>\S</td><td>对 \s 取非</td></tr></tbody></table><p>\x 匹配十六进制字符，\0 匹配八进制，例如 \x0A 对应 ASCII 字符 10 ，等价于 \n，也就是它会匹配 \n 。</p><h2 id="使用-posix-字符类"><a href="#使用-posix-字符类" aria-hidden="true" class="header-anchor">#</a> 使用 POSIX 字符类</h2><table><thead><tr><th>字符类</th><th>说明</th></tr></thead><tbody><tr><td>[:alnum:]</td><td>字母数字字符</td></tr><tr><td>[:alpha:]</td><td>字母字符</td></tr><tr><td>[:cntrl:]</td><td>控制字符</td></tr><tr><td>[:digit:]</td><td>数字字符</td></tr><tr><td>[:graph:]</td><td>非空白字符 ( 非空格、控制字符等 )</td></tr><tr><td>[:lower:]</td><td>小写字母</td></tr><tr><td>[:print:]</td><td>与 [:graph:] 相似，但是包含空格字符</td></tr><tr><td>[:punct:]</td><td>标点字符</td></tr><tr><td>[:space:]</td><td>所有的空白字符 ( 换行符、空格、制表符 )</td></tr><tr><td>[:upper:]</td><td>大写字母</td></tr><tr><td>[:xdigit:]</td><td>允许十六进制的数字 (0-9a-fA-F)</td></tr></tbody></table><p>并不是所有正则表达式实现都支持 POSIX 字符类，也不一定使用它。</p><p>使用时需要用两对方括号，例如 [[:alpha:]]。</p><h2 id="重复匹配"><a href="#重复匹配" aria-hidden="true" class="header-anchor">#</a> 重复匹配</h2><p><strong>+</strong>  匹配 1 个或者多个字符， <strong>*</strong> 匹配 0 个或者多个，<strong>?</strong> 匹配 0 个或者 1 个。</p><p><strong>应用</strong></p><p>匹配邮箱地址。</p><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>[\w.]+@\w+.\w+
</code></pre></div><p>[\w.] 匹配的是字母数字或者 . ，在其后面加上 + ，表示匹配多次。在字符集合 [ ] 里，. 不是元字符；</p><p><strong>匹配结果</strong></p><p><strong>abc.def<span>@</span>qq.com</strong></p><p>为了可读性，常常把转义的字符放到字符集合 [ ] 中，但是含义是相同的。</p><div class="language- extra-class"><pre class="language-text"><code>\w+@\w+.\w+
[\w]+@[\w]+.[\w]+
</code></pre></div><p><strong>{n}</strong>  匹配 n 个字符，<strong>{m, n}</strong> 匹配 m~n 个字符，<strong>{m,}</strong> 至少匹配 m 个字符；</p><p>* 和 + 都是贪婪型元字符，会匹配最多的内容，在元字符后面加 ? 可以转换为懒惰型元字符，例如 *?、+? 和 {m, n}? 。</p><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>a.+c
</code></pre></div><p>由于 + 是贪婪型的，因此 .+ 会匹配更可能多的内容，所以会把整个 abcabcabc 文本都匹配，而不是只匹配前面的 abc 文本。用懒惰型可以实现匹配前面的。</p><p><strong>匹配结果</strong></p><p><strong>abcabcabc</strong></p><h2 id="位置匹配"><a href="#位置匹配" aria-hidden="true" class="header-anchor">#</a> 位置匹配</h2><h3 id="单词边界"><a href="#单词边界" aria-hidden="true" class="header-anchor">#</a> 单词边界</h3><p><strong>\b</strong>  可以匹配一个单词的边界，边界是指位于 \w 和 \W 之间的位置；<strong>\B</strong> 匹配一个不是单词边界的位置。</p><p>\b 只匹配位置，不匹配字符，因此 \babc\b 匹配出来的结果为 3 个字符。</p><h3 id="字符串边界"><a href="#字符串边界" aria-hidden="true" class="header-anchor">#</a> 字符串边界</h3><p><strong>^</strong>  匹配整个字符串的开头，<strong>$</strong> 匹配结尾。</p><p>^ 元字符在字符集合中用作求非，在字符集合外用作匹配字符串的开头。</p><p>使用 (?m) 来打开分行匹配模式，在该模式下，换行被当做字符串的边界。</p><p><strong>应用</strong></p><p>匹配代码中以 // 开始的注释行</p><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>(?m)^\s*//.*$
</code></pre></div><p>如果没用 (?m)，则只会匹配 // 注释 1 以及之后的所有内容，因为 * 是贪婪型的。用了分行匹配模式之后，换行符被当成是字符串分隔符，因此能正确匹配出两个注释内容。</p><p><strong>匹配结果</strong></p><ol><li>public void fun() {</li><li><strong>// 注释 1</strong></li><li>        int a = 1;</li><li>        int b = 2;</li><li><strong>// 注释 2</strong></li><li>        int c = a + b;</li><li>}</li></ol><h2 id="使用子表达式"><a href="#使用子表达式" aria-hidden="true" class="header-anchor">#</a> 使用子表达式</h2><p>使用  <strong>( )</strong>  定义一个子表达式。子表达式的内容可以当成一个独立元素，即可以将它看成一个字符，并且使用 * 等元字符。</p><p>子表达式可以嵌套，但是嵌套层次过深会变得很难理解。</p><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>(ab) {2,}
</code></pre></div><p><strong>匹配结果</strong></p><p><strong>ababab</strong></p><p><strong>|</strong>  是或元字符，它把左边和右边所有的部分都看成单独的两个部分，两个部分只要有一个匹配就行。</p><div class="language- extra-class"><pre class="language-text"><code>(19|20)\d{2}
</code></pre></div><p><strong>匹配结果</strong></p><ol><li><strong>1900</strong></li><li><strong>2010</strong></li><li>1020</li></ol><p><strong>应用</strong></p><p>匹配 IP 地址。IP 地址中每部分都是 0-255 的数字，用正则表达式匹配时以下情况是合法的：</p><ol><li>一位或者两位的数字</li><li>1 开头的三位数</li><li>2 开头，第 2 位是 0-4 的三位数</li><li>25 开头，第 3 位是 0-5 的三位数</li></ol><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5]))\.) {3}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))
</code></pre></div><p><strong>匹配结果</strong></p><ol><li><strong>192.168.0.1</strong></li><li>555.555.555.555</li></ol><h2 id="回溯引用"><a href="#回溯引用" aria-hidden="true" class="header-anchor">#</a> 回溯引用</h2><p>回溯引用使用  <strong>\n</strong>  来引用某个子表达式，其中 n 代表的是子表达式的序号，从 1 开始。它和子表达式匹配的内容一致，比如子表达式匹配到 abc ，那么回溯引用部分也需要匹配 abc 。</p><p><strong>应用</strong></p><p>匹配 HTML 中合法的标题元素。</p><p><strong>正则表达式</strong></p><p>\1 将回溯引用子表达式 (h[1-6]) 匹配的内容，也就是说必须和子表达式匹配的内容一致。</p><div class="language- extra-class"><pre class="language-text"><code>&lt;(h[1-6])&gt;\w*?&lt;/\1&gt;
</code></pre></div><p><strong>匹配结果</strong></p><ol><li><strong>&lt;h1&gt;x&lt;/h1&gt;</strong></li><li><strong>&lt;h2&gt;x&lt;/h2&gt;</strong></li><li>&lt;h3&gt;x&lt;/h1&gt;</li></ol><h2 id="替换"><a href="#替换" aria-hidden="true" class="header-anchor">#</a> 替换</h2><p>需要用到两个正则表达式。</p><p><strong>应用</strong></p><p>修改电话号码格式。</p><p><strong>文本</strong></p><p>313-555-1234</p><p><strong>查找正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>(\d{3})(-)(\d{3})(-)(\d{4})
</code></pre></div><p><strong>替换正则表达式</strong></p><p>在第一个子表达式查找的结果加上 () ，然后加一个空格，在第三个和第五个字表达式查找的结果中间加上 - 进行分隔。</p><div class="language- extra-class"><pre class="language-text"><code>($1) $3-$5
</code></pre></div><p><strong>结果</strong></p><p>(313) 555-1234</p><h2 id="大小写转换"><a href="#大小写转换" aria-hidden="true" class="header-anchor">#</a> 大小写转换</h2><table><thead><tr><th>元字符</th><th>说明</th></tr></thead><tbody><tr><td>\l</td><td>把下个字符转换为小写</td></tr><tr><td>\u</td><td>把下个字符转换为大写</td></tr><tr><td>\L</td><td>把\L 和\E 之间的字符全部转换为小写</td></tr><tr><td>\U</td><td>把\U 和\E 之间的字符全部转换为大写</td></tr><tr><td>\E</td><td>结束\L 或者\U</td></tr></tbody></table><p><strong>应用</strong></p><p>把文本的第二个和第三个字符转换为大写。</p><p><strong>文本</strong></p><p>abcd</p><p><strong>查找</strong></p><div class="language- extra-class"><pre class="language-text"><code>(\w)(\w{2})(\w)
</code></pre></div><p><strong>替换</strong></p><div class="language- extra-class"><pre class="language-text"><code>$1\U$2\E$3
</code></pre></div><p><strong>结果</strong></p><p>aBCd</p><h2 id="前后查找"><a href="#前后查找" aria-hidden="true" class="header-anchor">#</a> 前后查找</h2><p>前后查找规定了匹配的内容首尾应该匹配的内容，但是又不包含首尾匹配的内容。向前查找用  <strong>?=</strong>  来定义，它规定了尾部匹配的内容，这个匹配的内容在 ?= 之后定义。所谓向前查找，就是规定了一个匹配的内容，然后以这个内容为尾部向前面查找需要匹配的内容。向后匹配用 ?&lt;= 定义。</p><p><strong>应用</strong></p><p>查找出邮件地址 @ 字符前面的部分。</p><p><strong>正则表达式</strong></p><div class="language- extra-class"><pre class="language-text"><code>\w+(?=@)
</code></pre></div><p><strong>结果</strong></p><p><strong>abc</strong> @qq.com</p><p>对向前和向后查找取非，只要把 = 替换成 ! 即可，比如 (?=) 替换成 (?!) 。取非操作使得匹配那些首尾不符合要求的内容。</p><h2 id="嵌入条件"><a href="#嵌入条件" aria-hidden="true" class="header-anchor">#</a> 嵌入条件</h2><h3 id="回溯引用条件"><a href="#回溯引用条件" aria-hidden="true" class="header-anchor">#</a> 回溯引用条件</h3><p>条件判断为某个子表达式是否匹配，如果匹配则需要继续匹配条件表达式后面的内容。</p><p><strong>正则表达式</strong></p><p>子表达式 (\() 匹配一个左括号，其后的 ? 表示匹配 0 个或者 1 个。 ?(1) 为条件，当子表达式 1 匹配时条件成立，需要执行 ) 匹配，也就是匹配右括号。</p><div class="language- extra-class"><pre class="language-text"><code>(\()?abc(?(1)\))
</code></pre></div><p><strong>结果</strong></p><ol><li><strong>(abc)</strong></li><li><strong>abc</strong></li><li>(abc</li></ol><h3 id="前后查找条件"><a href="#前后查找条件" aria-hidden="true" class="header-anchor">#</a> 前后查找条件</h3><p>条件为定义的首尾是否匹配，如果匹配，则继续执行后面的匹配。注意，首尾不包含在匹配的内容中。</p><p><strong>正则表达式</strong></p><p>?(?=-) 为前向查找条件，只有在以 - 为前向查找的结尾能匹配 \d{5} ，才继续匹配 -\d{4} 。</p><div class="language- extra-class"><pre class="language-text"><code>\d{5}(?(?=-)-\d{4})
</code></pre></div><p><strong>结果</strong></p><ol><li><strong>11111</strong></li><li>22222-</li><li><strong>33333-4444</strong></li></ol></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/wanlay/document/edit/master/docs/others/re.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="last-updated"><span class="prefix">上次更新: </span><span class="time">8/14/2018, 1:36:40 AM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/document/others/openstack-install.html" class="prev">
          openstack问题
        </a></span><span class="next"><a href="/document/others/source.html">
          源设置
        </a> →
      </span></p></div></div></div></div>
    <script src="/document/assets/js/app.5eb717b1.js" defer></script><script src="/document/assets/js/39.ff39d369.js" defer></script>
  </body>
</html>
